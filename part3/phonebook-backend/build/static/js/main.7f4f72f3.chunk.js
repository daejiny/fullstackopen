(this["webpackJsonpphonebook-frontend"]=this["webpackJsonpphonebook-frontend"]||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),u=n.n(c),o=(n(5),n(2)),l=function(e){var t=e.filter,n=e.setFilter;return a.a.createElement("p",null,"filter shown with ",a.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},i=function(e){var t=e.name,n=e.setName,r=e.number,c=e.setNumber,u=e.handleClick;return a.a.createElement("form",null,a.a.createElement("div",null,a.a.createElement("p",null,"name: ",a.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}})),a.a.createElement("p",null,"number: ",a.a.createElement("input",{value:r,onChange:function(e){return c(e.target.value)}}))),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",onClick:u},"add")))},s=function(e){var t=e.personList,n=e.removePerson;return a.a.createElement("div",null,t.map((function(e){return a.a.createElement("p",{key:e.name},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return n(e.id,e.name)}},"Delete"))})))},m=n(3),f=n.n(m),d="/api/persons",p=function(){return f.a.get(d)},b=function(e){return f.a.post(d,e)},v=function(e,t){return f.a.put("".concat(d,"/").concat(e),t)},h=function(e){return f.a.delete("".concat(d,"/").concat(e))},E=function(e){var t=e.message;return null===t||""===t.text?null:1===t.success?a.a.createElement("div",{className:"notification"},t.text):0===t.success?a.a.createElement("div",{className:"error"},t.text):void 0},w=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)(""),m=Object(o.a)(u,2),f=m[0],d=m[1],w=Object(r.useState)(""),g=Object(o.a)(w,2),k=g[0],j=g[1],x=Object(r.useState)(""),C=Object(o.a)(x,2),O=C[0],N=C[1],L=Object(r.useState)({text:"",success:-1}),S=Object(o.a)(L,2),T=S[0],y=S[1];Object(r.useEffect)((function(){p().then((function(e){c(e.data)}))}),[]);var D=function(e){return n.filter((function(t){return t.id===e}))[0].name},P=function(e){return n.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()}))[0].id},F=0===O.length?n:n.filter((function(e){return e.name.toLowerCase().includes(O.toLowerCase())}));return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(E,{message:T}),a.a.createElement(l,{filter:O,setFilter:N}),a.a.createElement("h3",null,"Add a new"),a.a.createElement(i,{name:f,number:k,setName:d,setNumber:j,handleClick:function(e){e.preventDefault();var t={name:f,number:k};if(n.filter((function(e){return e.name===f})).length>0){if(!n.filter((function(e){return e.number!==k})))return alert("".concat(f," is already added to phonebook")),!1;if(window.confirm("Update ".concat(f,"'s phone number to ").concat(k,"?")))return v(P(f),t).then((function(e){var t={text:"".concat(f,"'s number updated to ").concat(k),success:1};y(t),setTimeout((function(){return y(null)}),3e3),c(n.map((function(t){return t.id!==P(f)?t:e.data})))})).catch((function(e){var t={text:"".concat(e.response.data.error),success:0};y(t),setTimeout((function(){return y(null)}),3e3)})),!0}b(t).then((function(e){var t={text:"".concat(f," added to phonebook"),success:1};y(t),setTimeout((function(){return y(null)}),3e3),c(n.concat(e.data))})).catch((function(e){var t={text:"".concat(e.response.data.error),success:0};y(t),setTimeout((function(){return y(null)}),3e3)}))}}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(s,{personList:F,removePerson:function(e,t){window.confirm("Delete ".concat(D(e),"?"))&&h(e).then((function(t){var r={text:"".concat(D(e)," deleted"),success:1};y(r),setTimeout((function(){return y(null)}),3e3),c(n.filter((function(t){return t.id!==e})))})).catch((function(e){var r={text:"".concat(e.response.data.error),success:0};y(r),setTimeout((function(){return y(null)}),3e3),c(n.filter((function(e){return e.name!==t})))}))}}))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root"))},5:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.7f4f72f3.chunk.js.map