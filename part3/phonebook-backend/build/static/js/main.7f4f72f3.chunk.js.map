{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","services/Persons.js","Notification.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","e","target","PersonForm","name","setName","number","setNumber","handleClick","type","onClick","Persons","personList","removePerson","map","person","key","id","baseUrl","axios","get","newObject","post","put","delete","Notification","message","text","success","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","useEffect","personsService","then","response","data","getNameFromId","getIdFromName","toLowerCase","personsFilter","length","includes","preventDefault","newPerson","alert","window","confirm","newError","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f4f72f3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, setFilter}) => (\r\n        <p>filter shown with <input value={filter} onChange={(e) => setFilter(e.target.value)} /></p>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({name, setName, number, setNumber, handleClick}) => (\r\n\r\n    <form>\r\n        <div>\r\n            <p>name: <input value={name} onChange={(e) => setName(e.target.value)} /></p>\r\n            <p>number: <input value={number} onChange={(e) => setNumber(e.target.value)} /></p>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\" onClick={handleClick}>add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ personList, removePerson }) => (\r\n    <div>\r\n        {personList.map(person => <p key={person.name}>{person.name} {person.number} <button onClick={() => removePerson(person.id, person.name)}>Delete</button></p>)}\r\n    </div>\r\n)\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst add = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, add, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if ((message === null) || (message.text === '')) return null\r\n\r\n    if (message.success === 1) {\r\n        return (\r\n            <div className=\"notification\">\r\n                {message.text}\r\n            </div >\r\n        )\r\n    } else if (message.success === 0) {\r\n        return (\r\n            <div className=\"error\">\r\n                {message.text}\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personsService from './services/Persons'\nimport Notification from './Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n\n  const [errorMessage, setErrorMessage] = useState({\n    text: '',\n    success: -1,\n  })\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n    if (persons.filter(person => person.name === newName).length > 0) {\n      if (persons.filter(person => person.number !== newNumber)) {\n        if (window.confirm(`Update ${newName}'s phone number to ${newNumber}?`)) {\n          personsService\n            .update(getIdFromName(newName), newPerson)\n            .then(response => {\n              const newError = {text: `${newName}'s number updated to ${newNumber}`, success: 1}\n              setErrorMessage(newError)\n              setTimeout(() => setErrorMessage(null), 3000)\n              setPersons(persons.map(person => person.id !== getIdFromName(newName) ? person : response.data))\n            })\n            .catch(error => {\n              const newError = { text: `${error.response.data.error}`, success: 0 }\n              setErrorMessage(newError)\n              setTimeout(() => setErrorMessage(null), 3000)\n            })\n          return true\n        }\n      }\n      else {\n        alert(`${newName} is already added to phonebook`)\n        return false\n      }\n    }\n    personsService\n      .add(newPerson)\n      .then(response => {\n        const newError = {text: `${newName} added to phonebook`, success: 1}\n        setErrorMessage(newError)\n        setTimeout(() => setErrorMessage(null), 3000)\n        setPersons(persons.concat(response.data))\n      })\n      .catch(error => {\n        const newError = { text: `${error.response.data.error}`, success: 0 }\n        setErrorMessage(newError)\n        setTimeout(() => setErrorMessage(null), 3000)\n      })\n  }\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Delete ${getNameFromId(id)}?`))\n      personsService\n        .remove(id)\n        .then(response => {\n          const newError = { text: `${getNameFromId(id)} deleted`, success: 1 }\n          setErrorMessage(newError)\n          setTimeout(() => setErrorMessage(null), 3000)\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          const newError = { text: `${error.response.data.error}`, success: 0 }\n          setErrorMessage(newError)\n          setTimeout(() => setErrorMessage(null), 3000)\n          setPersons(persons.filter(person => person.name !== name))\n        })\n  }\n\n  const getNameFromId = (id) => {\n    return persons.filter(person => person.id === id)[0].name\n  }\n\n  const getIdFromName = (name) => {\n    return persons.filter(person => person.name.toLowerCase() === name.toLowerCase())[0].id\n  }\n\n  const personsFilter = (newFilter.length === 0)\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter filter={newFilter} setFilter={setNewFilter} />\n      <h3>Add a new</h3>\n      <PersonForm name={newName} number={newNumber} setName={setNewName} setNumber={setNewNumber} handleClick={addPerson} />\n      <h3>Numbers</h3>\n      <Persons personList={personsFilter} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}